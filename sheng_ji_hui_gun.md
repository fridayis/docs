# 升级/回滚
---
随着项目代码的更新迭代，线上服务需要不断地升级，如果升级失败或者在业务上不符合要求，还需要回滚。DomeOS针对这一需求对部署设计了版本系统。用户可以生成一个新部署版本进行升级；也可以选择一个旧部署版本进行回滚。

##1. 部署版本
在控制台点击左侧导航栏的“部署”，进入部署列表页。点击列表中的某个部署，进入该部署的详情页面。
![](http://881471b33d4f9.cdn.sohucs.com/q_mini/newproject6.jpg)

在部署的详情页面，可以在第一个tab“部署详情”中看到该部署的所有部署版本。

一个部署版本包含以下内容：
1. 部署的容器配置。包括镜像、镜像版本、运行过程环境变量、容器大小配置。
2. 部署的集群、部署环境、主机标签和日志配置。其中集群和部署环境是新建部署后不能修改的，每个部署版本都保持一致。
![](http://881471b33d4f9.cdn.sohucs.com/q_mini/newproject6.jpg)

##2. 升级/回滚

在“升级”中，您可以增减镜像，更换镜像版本，修改主机标签和日志设置。点击“保存升级设置”后，会生成一个新版本（版本名是version+递增数字）。如果想即刻启动新版本，则在是否继续的提示框中选择“继续”，系统会启动刚刚生成的新版本。
![](http://881471b33d4f9.cdn.sohucs.com/q_mini/newproject6.jpg)

如果不需要生成一个新版本，只需要在已有的版本中选择一个替换线上版本，则可以点击“升级/回滚”按钮，选择一个部署版本并指定启动的实例个数。系统会根据所选版本和当前版本的创建时间上的先后关系，选择升级操作或回滚操作，将当前版本替换为您选择的版本。
![](http://881471b33d4f9.cdn.sohucs.com/q_mini/newproject6.jpg)

